# üîÑ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é SecuRisk –ë–ï–ó –ü–û–¢–ï–†–ò –î–ê–ù–ù–´–•

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. **MTTA/MTTR/MTTC –≤ —á–∞—Å–∞—Ö** - –≤–æ –≤—Å–µ—Ö –º–µ—Å—Ç–∞—Ö (Dashboard, Incidents, —Ç–∞–±–ª–∏—Ü–∞)
2. **–í—ã–±–æ—Ä —Å—Ç–æ–ª–±—Ü–æ–≤** - –≤ —Ç–∞–±–ª–∏—Ü–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å, –∫–∞–∫–∏–µ —Å—Ç–æ–ª–±—Ü—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å
3. **–§–∏–ª—å—Ç—Ä—ã** - –ø–æ –¥–∞—Ç–∞–º, —Å—Ç–∞—Ç—É—Å—É, –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏
4. **–≠–∫—Å–ø–æ—Ä—Ç –≤ CSV** - —Å —É—á–µ—Ç–æ–º –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤ –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
5. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ–æ—Ä–º–∞ Users** - –±–µ–ª–æ–µ –æ–∫–Ω–æ

---

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –®–ê–ì 1: –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh user@your-server

# –°–æ–∑–¥–∞–π—Ç–µ backup MongoDB
mongodump --db securisk_db --out /backup/securisk_$(date +%Y%m%d_%H%M%S)

# –ò–ª–∏ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø–æ–ª–Ω—ã–π –∞—Ä—Ö–∏–≤
mongodump --db securisk_db --archive=/backup/securisk_$(date +%Y%m%d_%H%M%S).archive --gzip

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backup —Å–æ–∑–¥–∞–Ω
ls -lh /backup/
```

**‚úÖ –í–ê–ñ–ù–û:** –ë–µ–∑ backup –ù–ï –ø—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ!

---

### –®–ê–ì 2: –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –∫–æ–¥ (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /opt/securisk

# –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é
sudo tar -czf /backup/securisk_code_$(date +%Y%m%d_%H%M%S).tar.gz .

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä
ls -lh /backup/securisk_code*.tar.gz
```

---

### –®–ê–ì 3: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ frontend (–ù–ï —Ç—Ä–æ–≥–∞–π—Ç–µ backend!)

```bash
# Backend –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –æ—Å—Ç–∞–Ω–æ–≤–∏–º —Ç–æ–ª—å–∫–æ frontend –µ—Å–ª–∏ –æ–Ω –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ supervisor
# –û–±—ã—á–Ω–æ frontend —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Å—Ç–∞—Ç–∏–∫–∞ —á–µ—Ä–µ–∑ Nginx, –ø–æ—ç—Ç–æ–º—É –ø—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–∏–º —Ñ–∞–π–ª—ã

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ frontend –≤ supervisor
sudo supervisorctl status | grep frontend

# –ï—Å–ª–∏ –µ—Å—Ç—å - –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ
sudo supervisorctl stop securisk-frontend
```

---

### –®–ê–ì 4: –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ –∏–∑ Git

```bash
cd /opt/securisk

# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å)
git stash

# –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥
git pull origin main

# –ï—Å–ª–∏ –±—ã–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã - –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ
git status
```

---

### –®–ê–ì 5: –û–±–Ω–æ–≤–∏—Ç–µ Backend

```bash
cd /opt/securisk/backend

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate

# –û–±–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
pip install -r requirements.txt

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª - –æ–Ω –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
cat .env

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend
sudo supervisorctl restart securisk-backend

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
sudo supervisorctl status securisk-backend

# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏
sudo supervisorctl tail -50 securisk-backend
```

**‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:** Backend –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

---

### –®–ê–ì 6: –û–±–Ω–æ–≤–∏—Ç–µ Frontend

```bash
cd /opt/securisk/frontend

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env
cat .env
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: REACT_APP_BACKEND_URL=/api

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ/–æ–±–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
yarn install

# –í–ê–ñ–ù–û: –°–æ–±–µ—Ä–∏—Ç–µ production –≤–µ—Ä—Å–∏—é
yarn build

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ build —Å–æ–∑–¥–∞–Ω
ls -la build/
```

**‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:** –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `build/` –¥–æ–ª–∂–Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å

---

### –®–ê–ì 7: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Nginx

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
sudo nginx -t

# –ï—Å–ª–∏ –≤—Å—ë –æ–∫ - –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
sudo systemctl reload nginx

# –ò–ª–∏
sudo systemctl restart nginx
```

---

### –®–ê–ì 8: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
sudo systemctl status mongod
sudo systemctl status nginx
sudo supervisorctl status

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ backend –ª–æ–≥–∏
sudo supervisorctl tail -50 securisk-backend

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Nginx –ª–æ–≥–∏
sudo tail -50 /var/log/nginx/error.log

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ curl
curl http://localhost
curl http://localhost/api/docs

# 5. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# http://–≤–∞—à-IP
```

---

### –®–ê–ì 9: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

**1. Dashboard:**
- [ ] MTTA/MTTR/MTTC –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —á–∞—Å—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä: 24—á, 15.28—á)

**2. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ò–Ω—Ü–∏–¥–µ–Ω—Ç—ã:**
- [ ] –ù–∞–¥ —Ç–∞–±–ª–∏—Ü–µ–π –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∏ "–°—Ç–æ–ª–±—Ü—ã" –∏ "–≠–∫—Å–ø–æ—Ä—Ç CSV"
- [ ] –§–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–∞–º —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –í —Ç–∞–±–ª–∏—Ü–µ MTTA/MTTR/MTTC –≤ —á–∞—Å–∞—Ö
- [ ] –ö–ª–∏–∫ –Ω–∞ "–°—Ç–æ–ª–±—Ü—ã" - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–∞–ª–æ—á–∫–∏
- [ ] –ö–ª–∏–∫ –Ω–∞ "–≠–∫—Å–ø–æ—Ä—Ç CSV" - —Å–∫–∞—á–∏–≤–∞–µ—Ç —Ñ–∞–π–ª

**3. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:**
- [ ] –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º—É (–Ω–µ –±–µ–ª—ã–π —ç–∫—Ä–∞–Ω)

---

## üî• –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ - –û–¢–ö–ê–¢

### –û—Ç–∫–∞—Ç Backend:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ backend
sudo supervisorctl stop securisk-backend

# –í–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏
cd /opt/securisk
git reset --hard HEAD~1

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
sudo supervisorctl start securisk-backend
```

### –û—Ç–∫–∞—Ç Frontend:

```bash
cd /opt/securisk
git reset --hard HEAD~1

cd frontend
yarn build

sudo systemctl reload nginx
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î:

```bash
# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ë–î
mongorestore --db securisk_db --archive=/backup/securisk_YYYYMMDD_HHMMSS.archive --gzip --drop
```

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫ (MTTA/MTTR/MTTC)

### –ü—Ä–∏–º–µ—Ä: –ö–∞–∫ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å

**–ë—ã–ª–æ (–≤ –º–∏–Ω—É—Ç–∞—Ö):**
- MTTA: 1440 –º–∏–Ω
- MTTR: 917 –º–∏–Ω  
- MTTC: 557 –º–∏–Ω

**–°—Ç–∞–ª–æ (–≤ —á–∞—Å–∞—Ö):**
- MTTA: 24—á (1440/60)
- MTTR: 15.28—á (917/60)
- MTTC: 9.29—á (557/60)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ API:

```bash
# –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω
TOKEN=$(curl -X POST http://localhost/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}' | jq -r '.access_token')

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏
curl -H "Authorization: Bearer $TOKEN" http://localhost/api/incidents/metrics/summary | jq

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å avg_mtta, avg_mttr, avg_mttc –≤ —á–∞—Å–∞—Ö
```

---

## üéØ –ö—Ä–∞—Ç–∫–∞—è –∫–æ–º–∞–Ω–¥–∞ (–µ—Å–ª–∏ –≤—Å—ë –ø–æ–Ω—è—Ç–Ω–æ)

```bash
# –í–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π (–¥–ª—è –æ–ø—ã—Ç–Ω—ã—Ö)
cd /opt/securisk && \
mongodump --db securisk_db --archive=/backup/securisk_$(date +%Y%m%d).archive --gzip && \
git pull origin main && \
cd backend && source venv/bin/activate && pip install -r requirements.txt && \
sudo supervisorctl restart securisk-backend && \
cd ../frontend && yarn install && yarn build && \
sudo systemctl reload nginx && \
echo "‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
```

---

## üí° –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Frontend –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è

```bash
# –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+R)
# –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ build –æ–±–Ω–æ–≤–ª–µ–Ω
ls -lt /opt/securisk/frontend/build/static/js/ | head -5

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ
cd /opt/securisk/frontend
rm -rf build
yarn build
sudo systemctl reload nginx
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: Backend –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–¥ –æ–±–Ω–æ–≤–∏–ª—Å—è
cd /opt/securisk/backend
git log -1

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å force
sudo supervisorctl stop securisk-backend
sleep 2
sudo supervisorctl start securisk-backend
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: MTTA/MTTR/MTTC –≤—Å—ë –µ—â—ë –≤ –º–∏–Ω—É—Ç–∞—Ö

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥ backend
grep -n "mtta_values.append" /opt/securisk/backend/server.py

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: mtta_values.append(incident['mtta'] / 60)
# –ï—Å–ª–∏ –Ω–µ—Ç –¥–µ–ª–µ–Ω–∏—è –Ω–∞ 60 - –∫–æ–¥ –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ frontend
grep -n "incident.mtta" /opt/securisk/frontend/src/pages/Incidents.jsx

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: {(incident.mtta / 60).toFixed(2)}—á
```

---

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- [ ] Backup –ë–î —Å–æ–∑–¥–∞–Ω
- [ ] Backend –∑–∞–ø—É—â–µ–Ω –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] Frontend —Å–æ–±—Ä–∞–Ω (build/ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- [ ] Nginx –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- [ ] Dashboard –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç MTTA/MTTR/MTTC –≤ —á–∞—Å–∞—Ö
- [ ] –¢–∞–±–ª–∏—Ü–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á–∞—Å—ã
- [ ] –ö–Ω–æ–ø–∫–∏ "–°—Ç–æ–ª–±—Ü—ã" –∏ "–≠–∫—Å–ø–æ—Ä—Ç CSV" —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –§–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–∞–º —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å

---

## üìû –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å

1. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏:
```bash
sudo supervisorctl tail -100 securisk-backend stderr
sudo tail -100 /var/log/nginx/error.log
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ MongoDB —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
mongosh securisk_db --eval "db.stats()"
```

3. –°–¥–µ–ª–∞–π—Ç–µ screenshot –æ—à–∏–±–∫–∏ –∏ –æ–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É

---

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∑–∞–Ω—è—Ç—å 5-10 –º–∏–Ω—É—Ç. –£–¥–∞—á–∏! üöÄ**
